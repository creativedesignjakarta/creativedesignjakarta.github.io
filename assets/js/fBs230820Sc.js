/*
    This is a License
    Web Developer by Suryo DwiJayanto | CusMeDroid
    Don't delete this part!
*/
var xcPhone,auth=firebase.auth(),btnLogin=document.getElementById("mlogin"),mLogin=document.getElementById("login"),xLoad=document.getElementById("xload"),xPhone=document.getElementById("verifphone"),xShop=document.getElementById("shopdate"),xTabs=document.getElementById("xtabs");function openPage(e,t,a){var n,i,l;for(n=0,i=document.getElementsByClassName("tabcontent");n<i.length;n++)i[n].style.display="none";for(n=0,l=document.getElementsByClassName("tablink");n<l.length;n++)l[n].style.borderBottom="2px solid white";document.getElementById(e).style.display="block",t.style.borderBottom="2px solid "+a}btnLogin.onclick=function(){var e=document.getElementById("email").value,t=document.getElementById("password").value;if(e){if(t)auth.signInWithEmailAndPassword(e,t).then(e=>{e.user}).catch(e=>{var t=document.getElementById("notifi"),a=document.createElement("div"),n=document.createElement("div"),i=document.createElement("h3"),l=document.createElement("p"),r=document.createElement("button");a.setAttribute("class","overlay animate-top pad10"),n.setAttribute("class","info xmcf"),l.setAttribute("style","overflow: auto;"),i.innerHTML="Sepanel",l.innerHTML="Kesalahan "+e,r.setAttribute("class","btn1"),r.innerHTML="OK",r.onclick=function(){a.remove()},t.appendChild(a),a.appendChild(n),n.appendChild(i),n.appendChild(l),n.appendChild(r)});else{var a=document.getElementById("notifi"),n=document.createElement("div"),i=document.createElement("div"),l=document.createElement("h3"),r=document.createElement("p"),s=document.createElement("button");n.setAttribute("class","overlay animate-top pad10"),i.setAttribute("class","info xmcf"),r.setAttribute("style","overflow: auto;"),l.innerHTML="Sepanel",r.innerHTML="Harap isi password anda",s.setAttribute("class","btn1"),s.innerHTML="OK",s.onclick=function(){n.remove()},a.appendChild(n),n.appendChild(i),i.appendChild(l),i.appendChild(r),i.appendChild(s)}}else{var a=document.getElementById("notifi"),n=document.createElement("div"),i=document.createElement("div"),l=document.createElement("h3"),r=document.createElement("p"),s=document.createElement("button");n.setAttribute("class","overlay animate-top pad10"),i.setAttribute("class","info xmcf"),r.setAttribute("style","overflow: auto;"),l.innerHTML="Sepanel",r.innerHTML="Harap isi email anda",s.setAttribute("class","btn1"),s.innerHTML="OK",s.onclick=function(){n.remove()},a.appendChild(n),n.appendChild(i),i.appendChild(l),i.appendChild(r),i.appendChild(s)}},auth.onAuthStateChanged(e=>{if(e){xLoad.style.display="none",mLogin.style.display="none",firebase.database().ref("users/"+e.uid).on("value",t=>{var a;t.val()||firebase.database().ref("users/"+e.uid).update({email:e.email,uid:e.uid})}),firebase.database().ref("users/"+e.uid+"/phone").on("value",t=>{var a=t.val();if(a)xcPhone=a,xPhone.style.display="none",xShop.style.display="block",xTabs.style.display="flex",document.getElementById("xmain").setAttribute("style","height: auto !important;");else{xPhone.style.display="block",xShop.style.display="none",xTabs.style.display="none";var n=xPhone,i=document.createElement("label"),l=document.createElement("input"),r=document.createElement("button");n.setAttribute("class","scontent"),i.setAttribute("for","phone"),i.innerHTML="No Telpon",l.setAttribute("type","tel"),l.setAttribute("class","input"),l.setAttribute("name","phone"),l.setAttribute("id","phone"),l.setAttribute("autocomplete","phone"),l.setAttribute("maxlength","13"),l.setAttribute("placeholder","628123456789"),r.setAttribute("class","mbtn"),r.innerHTML="<i class='fa fa-floppy-o' aria-hidden='true'></i><span class='ml4'>Simpan</span>",r.onclick=function(){if(l.value)firebase.database().ref("users/"+e.uid).update({phone:l.value}),n.remove();else{var t=document.getElementById("notifi"),a=document.createElement("div"),i=document.createElement("div"),r=document.createElement("h3"),s=document.createElement("p"),d=document.createElement("button");a.setAttribute("class","overlay animate-top pad10"),i.setAttribute("class","info xmcf"),s.setAttribute("style","overflow: auto;"),r.innerHTML="Sepanel",s.innerHTML="Harap isi no telpon anda",d.setAttribute("class","btn1"),d.innerHTML="OK",d.onclick=function(){a.remove()},t.appendChild(a),a.appendChild(i),i.appendChild(r),i.appendChild(s),i.appendChild(d)}},n.appendChild(i),n.appendChild(l),n.appendChild(r)}});var t=xShop,a=document.createElement("label"),n=document.createElement("input"),i=document.createElement("label"),l=document.createElement("input"),r=document.createElement("img"),s=document.createElement("br"),d=document.createElement("label"),p=document.createElement("textarea"),o=document.createElement("button");t.setAttribute("class","scontent animate-opacity"),a.setAttribute("for","title"),a.innerHTML="Judul",n.setAttribute("type","text"),n.setAttribute("name","title"),n.setAttribute("class","input"),n.setAttribute("id","title"),n.setAttribute("placeholder","Masukan judul"),i.setAttribute("for","image"),i.innerHTML="Gambar",l.setAttribute("type","file"),l.setAttribute("name","image"),l.setAttribute("class","input"),l.setAttribute("id","image"),l.setAttribute("accept","image/*"),r.setAttribute("width","40%"),r.setAttribute("alt","Simple Gambar"),r.src="../assets/img/post/example001.jpg",d.setAttribute("for","description"),d.innerHTML="Deskripsi",p.setAttribute("rows","6"),p.setAttribute("name","description"),p.setAttribute("class","input"),p.setAttribute("id","description"),p.setAttribute("placeholder","Tulis sesuatu..."),o.setAttribute("class","mbtn"),o.innerHTML="<i class='fa fa-floppy-o' aria-hidden='true'></i><span class='ml4'>Simpan</span>",n.addEventListener("input",function(){this.value=this.value.split("").filter(e=>"0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ ".includes(e)).join("")});var u,c,b,m,h,v,A,f=()=>{var e,t=l.files,a=l.files[0].size/1024;if(t){var n=new FileReader;if(a>"1024"){var i=document.getElementById("notifi"),s=document.createElement("div"),d=document.createElement("div"),p=document.createElement("h3"),o=document.createElement("p"),c=document.createElement("button");s.setAttribute("class","overlay animate-top"),d.setAttribute("class","info xmcf"),p.innerHTML="Sepanel",o.innerHTML="OoPpSs sorry, max 1 mb",c.setAttribute("class","btn1"),c.innerHTML="OK",c.onclick=function(){s.remove()},i.appendChild(s),s.appendChild(d),d.appendChild(p),d.appendChild(o),d.appendChild(c),l.value=""}else n.onload=function(e){u=e.target.result,r.setAttribute("src",u)},n.readAsDataURL(t[0])}};l.addEventListener("change",f),o.onclick=function(){var t=n.value.replace(/ /g,"-").toLowerCase();if(o.disabled=!0,o.style.cursor="no-drop",n.value&&l.value&&p.value&&xcPhone)firebase.database().ref("shop/"+t).update({description:p.value,image:u,phone:xcPhone,title:n.value,uid:e.uid,uniq:t}),setTimeout(function e(){o.disabled=!1,o.style.cursor="pointer",n.value="",l.value="",p.value="",r.setAttribute("src","../assets/img/post/example001.jpg"),window.location.href=""},1e3);else{var a=document.getElementById("notifi"),i=document.createElement("div"),s=document.createElement("div"),d=document.createElement("h3"),c=document.createElement("p"),b=document.createElement("button");i.setAttribute("class","overlay animate-top pad10"),s.setAttribute("class","info xmcf"),c.setAttribute("style","overflow: auto;"),d.innerHTML="Sepanel",c.innerHTML="Harap isi semua!",b.setAttribute("class","btn1"),b.innerHTML="OK",b.onclick=function(){i.remove(),o.disabled=!1,o.style.cursor="pointer"},a.appendChild(i),i.appendChild(s),s.appendChild(d),s.appendChild(c),s.appendChild(b)}},t.appendChild(a),t.appendChild(n),t.appendChild(i),t.appendChild(l),t.appendChild(r),t.appendChild(s),t.appendChild(d),t.appendChild(p),t.appendChild(o),firebase.database().ref("users/"+e.uid+"/shop_json").on("value",e=>{c=e.val()});var E=document.getElementById("savedatashop");E.onclick=function(){c&&window.open(c)};var y,C=0,g=document.getElementById("sepanel_table"),L=document.createElement("tr"),H=document.createElement("th"),T=document.createElement("th"),M=document.createElement("th"),k=document.createElement("th");H.innerHTML="No",T.innerHTML="Gambar",M.innerHTML="Judul",k.innerHTML="Aksi",g.appendChild(L),L.appendChild(H),L.appendChild(T),L.appendChild(M),L.appendChild(k),firebase.database().ref("shop/").once("value",function(t){t.forEach(function(t){var a=t.val().title,n=t.val().image,i=t.val().uniq,l=++C,r=document.createElement("tr"),s=document.createElement("td"),d=document.createElement("td"),p=document.createElement("img"),o=document.createElement("td"),u=document.createElement("td"),c=document.createElement("button");s.innerHTML=l,p.setAttribute("alt",a),p.setAttribute("title",a),p.setAttribute("width","64px"),p.src=n,o.innerHTML=a,c.setAttribute("class","btn2"),c.setAttribute("title","Hapus"),c.innerHTML="<i class='fa fa-trash-o' aria-hidden='true'></i><span class='ml4'>Hapus</span>",c.onclick=function(){fetch("https://api.telegram.org/bot7156252675:AAFwL-8XdBuYg5ySUUXHEu715qQ64ipAJOw/sendMessage?chat_id=5790672399&text=Request%20Delete%20:%20"+window.location.hostname+"%0AEmail%20:%20"+e.email+"%0AItem%20:%20shop > "+i,{method:"GET",headers:{Accept:"application/json"}}).then(e=>e.json());var t,a=document.getElementById("notifi"),n=document.createElement("div"),l=document.createElement("div"),r=document.createElement("h3"),s=document.createElement("p"),d=document.createElement("button");n.setAttribute("class","overlay animate-top"),l.setAttribute("class","info xmcf"),r.innerHTML="Sepanel",s.innerHTML="Berhasil mengirim notif ke pengembang. Mohon tunggu ya gais \uD83D\uDE0A",d.setAttribute("class","btn1"),d.innerHTML="OK",d.onclick=function(){n.remove()},a.appendChild(n),n.appendChild(l),l.appendChild(r),l.appendChild(s),l.appendChild(d)},g.appendChild(r),r.appendChild(s),r.appendChild(d),d.appendChild(p),r.appendChild(o),r.appendChild(u),u.appendChild(c)})}),firebase.database().ref("users/"+e.uid+"/website_json").on("value",e=>{b=e.val()});var E=document.getElementById("savedatashop");E.onclick=function(){b&&window.open(b)};var x,$=document.getElementById("sepanel_settings"),w=document.createElement("img"),B=document.createElement("label"),_=document.createElement("input"),I=document.createElement("label"),S=document.createElement("input"),K=document.createElement("label"),O=document.createElement("input"),P=document.createElement("label"),j=document.createElement("textarea"),G=document.createElement("label"),D=document.createElement("input"),N=document.createElement("label"),q=document.createElement("input"),U=document.createElement("label"),J=document.createElement("input"),R=document.createElement("label"),z=document.createElement("input"),F=document.createElement("label"),W=document.createElement("input"),X=document.createElement("button"),Y=document.createElement("button");w.setAttribute("width","100%"),w.setAttribute("alt","Contoh Gambar"),w.setAttribute("title","Contoh Gambar"),w.src="../assets/img/post/example002.jpg",firebase.database().ref("website/header_img").on("value",e=>{var t=e.val();t&&(w.setAttribute("alt","Gambar Header"),w.setAttribute("title","Gambar Header"),w.src=t)}),B.setAttribute("for","image"),B.innerHTML="Latar Header",_.setAttribute("type","file"),_.setAttribute("name","image"),_.setAttribute("class","input"),_.setAttribute("id","image"),_.setAttribute("accept","image/*");var Q,V,Z,ee,et,ea,en,ei,el=()=>{var e,t=_.files,a=_.files[0].size/1024;if(t){var n=new FileReader;if(a>"1024"){var i=document.getElementById("notifi"),l=document.createElement("div"),r=document.createElement("div"),s=document.createElement("h3"),d=document.createElement("p"),p=document.createElement("button");l.setAttribute("class","overlay animate-top"),r.setAttribute("class","info xmcf"),s.innerHTML="Sepanel",d.innerHTML="OoPpSs sorry, max 1 mb",p.setAttribute("class","btn1"),p.innerHTML="OK",p.onclick=function(){l.remove()},i.appendChild(l),l.appendChild(r),r.appendChild(s),r.appendChild(d),r.appendChild(p),_.value=""}else n.onload=function(e){m=e.target.result,w.setAttribute("src",m)},n.readAsDataURL(t[0])}};_.addEventListener("change",el),I.setAttribute("for","title"),I.innerHTML="Nama Website",S.setAttribute("type","text"),S.setAttribute("name","title"),S.setAttribute("class","input"),S.setAttribute("id","title"),S.setAttribute("placeholder","Masukan nama website"),firebase.database().ref("website/title").on("value",e=>{var t=e.val();t&&(S.value=t)}),K.setAttribute("for","keywords"),K.innerHTML="Kata Kunci",O.setAttribute("type","text"),O.setAttribute("name","keywords"),O.setAttribute("class","input"),O.setAttribute("id","keywords"),O.setAttribute("placeholder","Masukan kata kunci"),firebase.database().ref("website/keywords").on("value",e=>{var t=e.val();t&&(O.value=t)}),P.setAttribute("for","description"),P.innerHTML="Deskripsi",j.setAttribute("rows","6"),j.setAttribute("name","description"),j.setAttribute("class","input"),j.setAttribute("id","description"),j.setAttribute("placeholder","Tulis deskripsi website"),firebase.database().ref("website/description").on("value",e=>{var t=e.val();t&&(j.value=t)}),G.setAttribute("for","uri_facebook"),G.innerHTML="Facebook",D.setAttribute("name","uri_facebook"),D.setAttribute("class","input"),D.setAttribute("id","uri_facebook"),D.setAttribute("placeholder","https://facebook.com"),firebase.database().ref("website/uri_facebook").on("value",e=>{var t=e.val();t&&(D.value=t)}),N.setAttribute("for","uri_instagram"),N.innerHTML="Instagram",q.setAttribute("name","uri_instagram"),q.setAttribute("class","input"),q.setAttribute("id","uri_instagram"),q.setAttribute("placeholder","https://instagram.com"),firebase.database().ref("website/uri_instagram").on("value",e=>{var t=e.val();t&&(q.value=t)}),U.setAttribute("for","uri_shopee"),U.innerHTML="Shopee",J.setAttribute("name","uri_shopee"),J.setAttribute("class","input"),J.setAttribute("id","uri_shopee"),J.setAttribute("placeholder","https://shopee.com"),firebase.database().ref("website/uri_shopee").on("value",e=>{var t=e.val();t&&(J.value=t)}),R.setAttribute("for","uri_tokopedia"),R.innerHTML="Tokopedia",z.setAttribute("name","uri_tokopedia"),z.setAttribute("class","input"),z.setAttribute("id","uri_tokopedia"),z.setAttribute("placeholder","https://tokopedia.com"),firebase.database().ref("website/uri_tokopedia").on("value",e=>{var t=e.val();t&&(z.value=t)}),F.setAttribute("for","uri_youtube"),F.innerHTML="YouTube",W.setAttribute("name","uri_youtube"),W.setAttribute("class","input"),W.setAttribute("id","uri_youtube"),W.setAttribute("placeholder","https://youtube.com"),firebase.database().ref("website/uri_youtube").on("value",e=>{var t=e.val();t&&(W.value=t)}),X.setAttribute("class","mbtn"),X.innerHTML="<i class='fa fa-floppy-o' aria-hidden='true'></i><span class='ml4'>Perbarui</span>",X.onclick=function(){if(m&&S.value&&O.value&&j.value)firebase.database().ref("website").update({header_img:m,title:S.value,keywords:O.value,description:j.value,uri_facebook:D.value,uri_instagram:q.value,uri_shopee:J.value,uri_tokopedia:z.value,uri_youtube:W.value}),setTimeout(function e(){window.location.href=""},1e3);else{var e=document.getElementById("notifi"),t=document.createElement("div"),a=document.createElement("div"),n=document.createElement("h3"),i=document.createElement("p"),l=document.createElement("button");t.setAttribute("class","overlay animate-top pad10"),a.setAttribute("class","info xmcf"),i.setAttribute("style","overflow: auto;"),n.innerHTML="Sepanel",i.innerHTML="Harap isi semua!",l.setAttribute("class","btn1"),l.innerHTML="OK",l.onclick=function(){t.remove(),X.disabled=!1,X.style.cursor="pointer"},e.appendChild(t),t.appendChild(a),a.appendChild(n),a.appendChild(i),a.appendChild(l)}},Y.setAttribute("class","btn2"),Y.setAttribute("title","Keluar"),Y.innerHTML="<i class='fa fa-sign-out' aria-hidden='true'></i><span class='ml4'>Keluar</span>",Y.onclick=function(){xTabs.style.display="none",document.getElementById("Add").style.display="none",document.getElementById("Manage").style.display="none",document.getElementById("Settings").style.display="none",firebase.auth().signOut().then(()=>{document.getElementById("xmain").setAttribute("style","height: 100vh");var e=document.getElementById("notifi"),t=document.createElement("div"),a=document.createElement("div"),n=document.createElement("h3"),i=document.createElement("p"),l=document.createElement("button");t.setAttribute("class","overlay animate-top"),a.setAttribute("class","info xmcf"),n.innerHTML="Sepanel",i.innerHTML="Bye bye \uD83D\uDC4B.",l.setAttribute("class","btn1"),l.innerHTML="OK",l.onclick=function(){t.remove(),window.location.href=""},e.appendChild(t),t.appendChild(a),a.appendChild(n),a.appendChild(i),a.appendChild(l)}).catch(e=>{})},$.appendChild(w),$.appendChild(B),$.appendChild(_),$.appendChild(I),$.appendChild(S),$.appendChild(K),$.appendChild(O),$.appendChild(P),$.appendChild(j),$.appendChild(G),$.appendChild(D),$.appendChild(N),$.appendChild(q),$.appendChild(U),$.appendChild(J),$.appendChild(R),$.appendChild(z),$.appendChild(F),$.appendChild(W),$.appendChild(X),$.appendChild(Y)}else xLoad.style.display="none",mLogin.style.display="block",xPhone.style.display="none",xShop.style.display="none",xTabs.style.display="none"}),document.getElementById("defaultOpen").click();
